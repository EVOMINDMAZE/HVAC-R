I have identified the issue causing the "Processing..." button to hang and the redirect loop.

**The Problems:**
1.  **Stuck Loading State:** There is a logic error in `JoinCompany.tsx` where the code returns early when it detects you are "Already a member", but it fails to turn off the `isLoading` spinner.
2.  **Redirect Loop:** When the app detects you are already a member, it redirects you to the `/dashboard`. However, if your local app state hasn't refreshed the company list yet, the dashboard thinks you have no company and kicks you back to the "Join" page.

**The Fix:**
1.  **Refactor `handleJoin`**: I will restructure the function to ensure the loading spinner always turns off, even if we exit early.
2.  **Force State Refresh**: Before redirecting you away from the Join page, I will force a `refreshCompanies()` call. This ensures that when you land on the Dashboard (or Select Company page), the app knows you are a member and lets you in.
3.  **Safer Redirect**: I will change the redirect destination to `/select-company` instead of `/dashboard`. The Select Company page has built-in logic to automatically pick your company and send you to the dashboard, which is more robust.

I will apply these fixes to `client/pages/JoinCompany.tsx` now.